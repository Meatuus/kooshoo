(function(b){b.flexslider=function(e,a){var f=e;f.init=function(){f.vars=b.extend({},b.flexslider.defaults,a);f.data("flexslider",true);f.container=b(".slides",f).first();f.slides=b(".slides:first > li",f);f.count=f.slides.length;f.animating=false;f.currentSlide=f.vars.slideToStart;f.animatingTo=f.currentSlide;f.atEnd=(f.currentSlide==0)?true:false;f.eventType=("ontouchstart" in document.documentElement)?"touchstart":"click";f.cloneCount=0;f.cloneOffset=0;f.manualPause=false;f.vertical=(f.vars.slideDirection=="vertical");f.prop=(f.vertical)?"top":"marginLeft";f.args={};f.transitions=false;if(f.transitions){f.prop="-webkit-transform"}if(f.vars.controlsContainer!=""){f.controlsContainer=b(f.vars.controlsContainer).eq(b(".slides").index(f.container));f.containerExists=f.controlsContainer.length>0}if(f.vars.manualControls!=""){f.manualControls=b(f.vars.manualControls,((f.containerExists)?f.controlsContainer:f));f.manualExists=f.manualControls.length>0}if(f.vars.randomize){f.slides.sort(function(){return(Math.round(Math.random())-0.5)});f.container.empty().append(f.slides)}if(f.vars.animation.toLowerCase()=="slide"){if(f.transitions){f.setTransition(0)}f.css({overflow:"hidden"});if(f.vars.animationLoop){f.cloneCount=2;f.cloneOffset=1;f.container.append(f.slides.filter(":first").clone().addClass("clone")).prepend(f.slides.filter(":last").clone().addClass("clone"))}f.newSlides=b(".slides:first > li",f);var A=(-1*(f.currentSlide+f.cloneOffset));if(f.vertical){f.newSlides.css({display:"block",width:"100%","float":"left"});f.container.height((f.count+f.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){f.css({position:"relative"}).height(f.slides.filter(":first").height());f.args[f.prop]=(f.transitions)?"translate3d(0,"+A*f.height()+"px,0)":A*f.height()+"px";f.container.css(f.args)},100)}else{f.args[f.prop]=(f.transitions)?"translate3d("+A*f.width()+"px,0,0)":A*f.width()+"px";f.container.width((f.count+f.cloneCount)*200+"%").css(f.args);setTimeout(function(){f.newSlides.width(f.width()).css({"float":"left",display:"block"})},100)}}else{f.transitions=false;f.slides.css({width:"100%","float":"left",marginRight:"-100%"}).eq(f.currentSlide).fadeIn(f.vars.animationDuration)}if(f.vars.controlNav){if(f.manualExists){f.controlNav=f.manualControls}else{var c=b('<ol class="flex-control-nav"></ol>');var G=1;for(var H=0;H<f.count;H++){c.append("<li><a>"+G+"</a></li>");G++}if(f.containerExists){b(f.controlsContainer).append(c);f.controlNav=b(".flex-control-nav li a",f.controlsContainer)}else{f.append(c);f.controlNav=b(".flex-control-nav li a",f)}}f.controlNav.eq(f.currentSlide).addClass("active");f.controlNav.bind(f.eventType,function(g){g.preventDefault();if(!b(this).hasClass("active")){(f.controlNav.index(b(this))>f.currentSlide)?f.direction="next":f.direction="prev";f.flexAnimate(f.controlNav.index(b(this)),f.vars.pauseOnAction)}})}if(f.vars.directionNav){var J=b('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+f.vars.prevText+'</a></li><li><a class="next" href="#">'+f.vars.nextText+"</a></li></ul>");if(f.containerExists){b(f.controlsContainer).append(J);f.directionNav=b(".flex-direction-nav li a",f.controlsContainer)}else{f.append(J);f.directionNav=b(".flex-direction-nav li a",f)}if(!f.vars.animationLoop){if(f.currentSlide==0){f.directionNav.filter(".prev").addClass("disabled")}else{if(f.currentSlide==f.count-1){f.directionNav.filter(".next").addClass("disabled")}}}f.directionNav.bind(f.eventType,function(g){g.preventDefault();var h=(b(this).hasClass("next"))?f.getTarget("next"):f.getTarget("prev");if(f.canAdvance(h)){f.flexAnimate(h,f.vars.pauseOnAction)}})}if(f.vars.keyboardNav&&b("ul.slides").length==1){function j(g){if(f.animating){return}else{if(g.keyCode!=39&&g.keyCode!=37){return}else{if(g.keyCode==39){var h=f.getTarget("next")}else{if(g.keyCode==37){var h=f.getTarget("prev")}}if(f.canAdvance(h)){f.flexAnimate(h,f.vars.pauseOnAction)}}}}b(document).bind("keyup",j)}if(f.vars.mousewheel){f.mousewheelEvent=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";f.bind(f.mousewheelEvent,function(k){k.preventDefault();k=k?k:window.event;var g=k.detail?k.detail*-1:k.wheelDelta/40,h=(g<0)?f.getTarget("next"):f.getTarget("prev");if(f.canAdvance(h)){f.flexAnimate(h,f.vars.pauseOnAction)}})}if(f.vars.slideshow){if(f.vars.pauseOnHover&&f.vars.slideshow){f.hover(function(){f.pause()},function(){if(!f.manualPause){f.resume()}})}f.animatedSlides=setInterval(f.animateSlides,f.vars.slideshowSpeed)}if(f.vars.pausePlay){var E=b('<div class="flex-pauseplay"><span></span></div>');if(f.containerExists){f.controlsContainer.append(E);f.pausePlay=b(".flex-pauseplay span",f.controlsContainer)}else{f.append(E);f.pausePlay=b(".flex-pauseplay span",f)}var B=(f.vars.slideshow)?"pause":"play";f.pausePlay.addClass(B).text((B=="pause")?f.vars.pauseText:f.vars.playText);f.pausePlay.bind(f.eventType,function(g){g.preventDefault();if(b(this).hasClass("pause")){f.pause();f.manualPause=true}else{f.resume();f.manualPause=false}})}if("ontouchstart" in document.documentElement){var K,I,z,F,C,L,D=false;f.each(function(){if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",i,false)}});function i(g){if(f.animating){g.preventDefault()}else{if(g.touches.length==1){f.pause();F=(f.vertical)?f.height():f.width();L=Number(new Date());z=(f.vertical)?(f.currentSlide+f.cloneOffset)*f.height():(f.currentSlide+f.cloneOffset)*f.width();K=(f.vertical)?g.touches[0].pageY:g.touches[0].pageX;I=(f.vertical)?g.touches[0].pageX:g.touches[0].pageY;f.setTransition(0);this.addEventListener("touchmove",y,false);this.addEventListener("touchend",d,false)}}}function y(g){C=(f.vertical)?K-g.touches[0].pageY:K-g.touches[0].pageX;D=(f.vertical)?(Math.abs(C)<Math.abs(g.touches[0].pageX-I)):(Math.abs(C)<Math.abs(g.touches[0].pageY-I));if(!D){g.preventDefault();if(f.vars.animation=="slide"&&f.transitions){if(!f.vars.animationLoop){C=C/((f.currentSlide==0&&C<0||f.currentSlide==f.count-1&&C>0)?(Math.abs(C)/F+2):1)}f.args[f.prop]=(f.vertical)?"translate3d(0,"+(-z-C)+"px,0)":"translate3d("+(-z-C)+"px,0,0)";f.container.css(f.args)}}}function d(h){f.animating=false;if(f.animatingTo==f.currentSlide&&!D&&!(C==null)){var g=(C>0)?f.getTarget("next"):f.getTarget("prev");if(f.canAdvance(g)&&Number(new Date())-L<550&&Math.abs(C)>20||Math.abs(C)>F/2){f.flexAnimate(g,f.vars.pauseOnAction)}else{f.flexAnimate(f.currentSlide,f.vars.pauseOnAction)}}this.removeEventListener("touchmove",y,false);this.removeEventListener("touchend",d,false);K=null;I=null;C=null;z=null}}if(f.vars.animation.toLowerCase()=="slide"){b(window).resize(function(){if(!f.animating){if(f.vertical){f.height(f.slides.filter(":first").height());f.args[f.prop]=(-1*(f.currentSlide+f.cloneOffset))*f.slides.filter(":first").height()+"px";if(f.transitions){f.setTransition(0);f.args[f.prop]=(f.vertical)?"translate3d(0,"+f.args[f.prop]+",0)":"translate3d("+f.args[f.prop]+",0,0)"}f.container.css(f.args)}else{f.newSlides.width(f.width());f.args[f.prop]=(-1*(f.currentSlide+f.cloneOffset))*f.width()+"px";if(f.transitions){f.setTransition(0);f.args[f.prop]=(f.vertical)?"translate3d(0,"+f.args[f.prop]+",0)":"translate3d("+f.args[f.prop]+",0,0)"}f.container.css(f.args)}}})}f.vars.start(f)};f.flexAnimate=function(h,d){if(!f.animating){f.animating=true;f.animatingTo=h;f.vars.before(f);if(d){f.pause()}if(f.vars.controlNav){f.controlNav.removeClass("active").eq(h).addClass("active")}f.atEnd=(h==0||h==f.count-1)?true:false;if(!f.vars.animationLoop&&f.vars.directionNav){if(h==0){f.directionNav.removeClass("disabled").filter(".prev").addClass("disabled")}else{if(h==f.count-1){f.directionNav.removeClass("disabled").filter(".next").addClass("disabled")}else{f.directionNav.removeClass("disabled")}}}if(!f.vars.animationLoop&&h==f.count-1){f.pause();f.vars.end(f)}if(f.vars.animation.toLowerCase()=="slide"){var c=(f.vertical)?f.slides.filter(":first").height():f.slides.filter(":first").width();if(f.currentSlide==0&&h==f.count-1&&f.vars.animationLoop&&f.direction!="next"){f.slideString="0px"}else{if(f.currentSlide==f.count-1&&h==0&&f.vars.animationLoop&&f.direction!="prev"){f.slideString=(-1*(f.count+1))*c+"px"}else{f.slideString=(-1*(h+f.cloneOffset))*c+"px"}}f.args[f.prop]=f.slideString;if(f.transitions){f.setTransition(f.vars.animationDuration);f.args[f.prop]=(f.vertical)?"translate3d(0,"+f.slideString+",0)":"translate3d("+f.slideString+",0,0)";f.container.css(f.args).one("webkitTransitionEnd transitionend",function(){f.wrapup(c)})}else{f.container.animate(f.args,f.vars.animationDuration,function(){f.wrapup(c)})}}else{f.slides.eq(f.currentSlide).fadeOut(f.vars.animationDuration);f.slides.eq(h).fadeIn(f.vars.animationDuration,function(){f.wrapup()})}}};f.wrapup=function(c){if(f.vars.animation=="slide"){if(f.currentSlide==0&&f.animatingTo==f.count-1&&f.vars.animationLoop){f.args[f.prop]=(-1*f.count)*c+"px";if(f.transitions){f.setTransition(0);f.args[f.prop]=(f.vertical)?"translate3d(0,"+f.args[f.prop]+",0)":"translate3d("+f.args[f.prop]+",0,0)"}f.container.css(f.args)}else{if(f.currentSlide==f.count-1&&f.animatingTo==0&&f.vars.animationLoop){f.args[f.prop]=-1*c+"px";if(f.transitions){f.setTransition(0);f.args[f.prop]=(f.vertical)?"translate3d(0,"+f.args[f.prop]+",0)":"translate3d("+f.args[f.prop]+",0,0)"}f.container.css(f.args)}}}f.animating=false;f.currentSlide=f.animatingTo;f.vars.after(f)};f.animateSlides=function(){if(!f.animating){f.flexAnimate(f.getTarget("next"))}};f.pause=function(){clearInterval(f.animatedSlides);if(f.vars.pausePlay){f.pausePlay.removeClass("pause").addClass("play").text(f.vars.playText)}};f.resume=function(){f.animatedSlides=setInterval(f.animateSlides,f.vars.slideshowSpeed);if(f.vars.pausePlay){f.pausePlay.removeClass("play").addClass("pause").text(f.vars.pauseText)}};f.canAdvance=function(c){if(!f.vars.animationLoop&&f.atEnd){if(f.currentSlide==0&&c==f.count-1&&f.direction!="next"){return false}else{if(f.currentSlide==f.count-1&&c==0&&f.direction=="next"){return false}else{return true}}}else{return true}};f.getTarget=function(c){f.direction=c;if(c=="next"){return(f.currentSlide==f.count-1)?0:f.currentSlide+1}else{return(f.currentSlide==0)?f.count-1:f.currentSlide-1}};f.setTransition=function(c){f.container.css({"-webkit-transition-duration":(c/1000)+"s"})};f.init()};b.flexslider.defaults={animation:"fade",slideDirection:"horizontal",slideshow:true,slideshowSpeed:7000,animationDuration:600,directionNav:true,controlNav:true,keyboardNav:true,mousewheel:false,prevText:"Previous",nextText:"Next",pausePlay:false,pauseText:"Pause",playText:"Play",randomize:false,slideToStart:0,animationLoop:true,pauseOnAction:true,pauseOnHover:false,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){}};b.fn.flexslider=function(a){return this.each(function(){if(b(this).find(".slides li").length==1){b(this).find(".slides li").fadeIn(400)}else{if(b(this).data("flexslider")!=true){new b.flexslider(b(this),a)}}})}})(jQuery);